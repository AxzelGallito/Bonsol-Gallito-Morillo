{% extends 'base.html' %}

{% block title %} Customers {% endblock %}

{% block body %}

<!-- Glassmorphism CSS -->
<style>
body {
    background-image: linear-gradient(rgba(0,0,0,0.55), rgba(0,0,0,0.55)),
                      url('/static/images/BG5.jpg');
    background-size: cover;
    background-repeat: no-repeat;
    background-position: center;
    background-attachment: fixed;  /* <â€” keeps the background static */
    height: 100vh;
    font-family: "Poppins", sans-serif;
    color: #fff;
}

/* ============================
   ADMIN NAVIGATION BOX
=============================== */

.admin-container {
    max-width: 800px;
    margin: 40px auto;
    padding: 25px;
    background: rgba(255, 255, 255, 0.08);
    backdrop-filter: blur(20px);
    border-radius: 25px;
    border: 1px solid rgba(255, 255, 255, 0.15);
    box-shadow: 0 15px 45px rgba(0, 0, 0, 0.4);
    transition: 0.3s ease;
}

.admin-container:hover {
    box-shadow: 0 20px 55px rgba(0, 0, 0, 0.55);
}

.admin-container h1 {
    color: #5ce1e6;
    font-size: 32px;
    font-weight: 600;
    text-align: center;
    margin-bottom: 20px;
}

.admin-table {
    width: 100%;
    border-radius: 20px;
    overflow: hidden;
}

.admin-table td {
    padding: 15px 20px;
    text-align: center;
    color: #fff;
}

.admin-table tbody tr {
    background: rgba(92, 225, 230, 0.3);
    transition: 0.3s ease;
}

.admin-table tbody tr:hover {
    background: rgba(92, 225, 230, 0.45);
}

.admin-table a {
    color: #fff;
    font-weight: 600;
    text-decoration: none;
}

.admin-table a:hover {
    color: #000;
}

/* Main container */
.customers-container {
    max-width: 900px;
    margin: 50px auto;
    padding: 30px;
    background: rgba(255, 255, 255, 0.08);
    backdrop-filter: blur(20px);
    border-radius: 30px;
    border: 1px solid rgba(255, 255, 255, 0.15);
    box-shadow: 0 15px 45px rgba(0, 0, 0, 0.4);
    transition: 0.3s ease;
}

.customers-container:hover {
    box-shadow: 0 20px 55px rgba(0, 0, 0, 0.55);
}

.customers-container h1 {
    color: #5ce1e6;
    font-size: 38px;
    font-weight: 600;
    margin-bottom: 20px;
    text-align: center;
}

/* Table styling */
.customers-table {
    width: 100%;
    border-collapse: separate;
    border-spacing: 0;
    border-radius: 20px;
    overflow: hidden;
}

.customers-table thead {
    background: rgba(92, 225, 230, 0.3);
    color: #000;
}

.customers-table th, .customers-table td {
    padding: 15px 20px;
    text-align: center;
    color: #fff;
}

.customers-table tbody tr {
    background: rgba(255, 255, 255, 0.05);
    transition: 0.3s ease;
}

.customers-table tbody tr:hover {
    background: rgba(92, 225, 230, 0.2);
}

/* Delete button styling */
.customers-table button {
    font-weight: 600;
    border-radius: 10px;
    border: none;
    cursor: pointer;
    padding: 8px 12px;
    background-color: #5ce1e6;
    color: #000;
    transition: 0.25s ease;
}

.customers-table button:hover {
    background-color: #3cbac3;
    color: #fff;
    box-shadow: 0 0 12px rgba(92, 225, 230, 0.5);
}

/* Links */
.customers-table a {
    color: #5ce1e6;
    font-weight: 600;
    text-decoration: none;
}

.customers-table a:hover {
    color: #3cbac3;
    text-decoration: underline;
}
</style>

<div class="admin-container">
    <h1>Admin Page</h1>
    <table class="admin-table">
        <tbody>
            <tr>
                <td><a href="/customers">Customers</a></td>
                <td><a href="/shop-items">Shop Items</a></td>
                <td><a href="/add-shop-items">Add Shop Items</a></td>
                <td><a href="/view-orders">View Orders</a></td>
            </tr>
        </tbody>
    </table>
</div>


<div class="customers-container">
    <h1>Customers</h1>

    <table class="customers-table">
        <thead>
            <tr>
                <th>Customer ID</th>
                <th>Username</th>
                <th>Email</th>
                <th>Date Joined</th>
                <th>Action</th>
            </tr>
        </thead>
        <tbody>
            {% for customer in customers %}
            <tr>
                <td>{{ customer.id }}</td>
                <td>{{ customer.username }}</td>
                <td>{{ customer.email }}</td>
                <td>{{ customer.date_joined }}</td>
                <td>
                    <form action="{{ url_for('admin.delete_customer', id=customer.id) }}" 
                        method="POST"
                        onsubmit="return confirm('Are you sure you want to delete this customer?');">
                        <button type="submit">Delete</button>
                    </form>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

{% endblock %}
